---
layout: post
title: "Python cz.3: Argumenty wiersza poleceń i otwieranie plików"
subtitle: "Przekazuj plik i korzystaj z niego w skrypcie"
date: 2020-11-13 20:00:13 -0400
background: '/img/bg-index.jpg'
---

<h2 class="section-heading">Po co nam to?</h2>
<p>Sytuacji kiedy musimy wczytać dane z pliku jest multum, załóżmy, że chcemy zbrutforcować jakiś formularz logowania, ozywiścienie nie będziemy wszystkich kombinacji loginów i haseł wpisywać ręcznie.
    Tworzymy sobie wtedy plik z listą loginów i skrypt który pobierze wartości i wstawi w odpowiednie pole formularza. A po co nam pobieranie argumentu z wiersza poleceń? Dlatego, że jest to po prostu wygodne, w przypadku naszego bruteforcera możemy chcieć spróbwać różnych list, wtedy zamiast wracać do programu możemy podać nazwę pliku z listą z poziomu wiersza poleceń. 
</p>
<h2 class="section-heading">Argumenty wiersza poleceń</h2>
<p>Pobieranie argumentów z wiersza poleceń jest bardzo proste, musimy jedynie zaimportować bibliotekę sys.argv, w tym momencie mamy dostęp do tablicy która przechowuje wartości z wiersza poleceń, przy czym pierwsza wartość to zawsze nazwa naszego skryptu. sys.argv możemy rozłożyć i poszczególne wartości tablicy przypisać do zmiennych (patrzy przykład poniżej): </p>
<img class="d-block mx-auto img-fluid" src="/img/readingarguments.png" alt="reading arguments from command line">
<p>Po uruchomieniu program wygląda tak:</p>
<img class="d-block mx-auto img-fluid" src="/img/argvcall.png" alt="reading arguments from command line program call">
<h2 class="section-heading">Otwieranie pliku</h2>
<p>Teraz możemy spróbować coś otworzyć, w tym celu stwórzmy sobie plik.txt (pamietaj aby stworzyć go w tym samym folderze co skrypt). Zapisz w nim proszę swoje imie a następnie wróć do programu. W pythonie pliki możemy otwierać dwojako, tak:</p>
<p class="text-center">f = open('plik.txt','r')</p>
<p>Gdzie pierwszym argumentem w open jest nazwa naszego pliku a drugim tryb, odpowiednio r-read, w-write, a-append. W sytuacji gdy korzystamy z tej metody musimy pamiętać by taki plik zamknąć po zaprzestaniu korzystania z niego, przy pomocy f.close()</p>
<p>Dlatego dobrą praktyką jest korzystanie z drugiej metody:</p>
<p class="text-center">with open('plik.txt', 'r') as f:</p>
<p>Korzystając z instrukcji with, plik jest zamykany automatycznie, nawet jeżeli program zwróci exception.</p>
<p>Oto przykład wykorzystania obu sposobów:</p>
<img class="d-block mx-auto img-fluid" src="/img/open.png" alt="open instrunctions for files">
<h2 class="section-heading">Zbierzmy to razem</h2>
<p>Skoro już wiemy jak otwierać pliki i pobierać wartości od użytkownika stworzę program który łączy ze sobą obie te funkcjonalności i pozwala wyświetlić zawartość każdego pliku tekstowego, obie konstrukcje są wam znane więc nie powinno stanowić problemu zrozumienie poniższego kodu, program uruchamiamy przy pomocy: python program.py nazwa_pliku </p>
<img class="d-block mx-auto img-fluid" src="/img/argvopen.png" alt="Open files from command line arguments">
<h2 class="section-heading">To już wszystko</h2>
<p>W tym artykule to już wszystko zachęcam cię do spróbowania napisania tego programu od zera, jeśli tego dobrze nie przyswoisz to ciężko będzie ruszyć się do przodu. Napisz sobie kilka programów do otwierania plików, przetestuj jedną i drugą metodę, może nawet przetestuj funkję .write() która pozwala zapisywać dane do pliku. Miłego kodzenia :)</p>